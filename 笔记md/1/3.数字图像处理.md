**直方图均衡化：**

```
https://blog.csdn.net/qq_15971883/article/details/88699218
灰度变化一种，可以增强图像的对比度
```

$$
目的是将不同灰度值x_i（比如一般的0-255）变成新灰度值y_i，使得图像更明显\\
假设图像有L个灰度值，范围是0到L-1\\
对于灰度值x，我们假设他在原图形有f(x)个。假设原图像总像素为N个\\
那么有概率密度函数a(x)=\frac{f(x)}{N}\\
积分后有分布函数A(x)=\frac{1}{N}\int^x_0{f(t)dt}\\
我们建立转换函数y=T(x)，表示均衡化后用y来替代原来的灰度值x\\
为了亮暗观感，即不能改变亮暗的相对大小，即对于任意灰度，若x_i<x_j，则转换后y_i<y_j\\
同时要保证亮暗的相对占比不变。即对于每一个映射y_i=T(x_i)，设分布函数为B(y)=\frac{1}{N}\int^y_0{f(t)dt}\\
要满足A(x_i)=B(y_i)。\\
比如：原来各个像素灰度排序后为1、2、2、4、5\\
合法变换：1、10、10、200、210（1->1,2->10,4->200,5->210)\\
不合法变换：1、5、10、100、200（2有两个映射5和10,并且分布函数不对应\\
不合法变换:1、5、5、100、90（映射后相对大小变化，原4<5，现100>90\\
$$

$$
直方图均衡化，就是希望这个是均匀分布概率模型，设变成y后，概率密度函数b(y)=\frac{1}{L-1}\\
因为B(y_i)=A(x_i)，对b(y)积分，有\frac{1}{L-1}y=\frac{1}{N}\int^x_0{f(t)dt}\\
因此变换函数y=T(x)=\frac{L-1}{N}\int^x_0{f(t)dt},由于灰度值是整数，变换后四舍五入即可\\
$$

**暗通道：**

```
每个点取三个通道中灰度最低的那个点
暗通道:以每个点为中心，取半径为r的矩形，用最小值滤波，将r*r范围内的最小值代替那个点
暗通道先验：根据假设和大量统计，非雾情况下，暗通道整体灰度趋近于黑色0。
但是有雾的位置会明显偏亮\\
```

$$
有公式I^c(x)=J^c(x)*t(x)+(1-t(x))A\\
用x表示坐标，J(x)表示原无雾图像，I(x)表示观测有雾图像（已知）\\
t(x)表示穿透率，A表示大气光。用J^c(x)表示无雾的暗通道，用I^c(x)表示有雾暗通道\\
其中A可以用全图最亮的点估计，或者用灰度较高的点中按一定方法求出一个估计值\\
由于暗通道先验，先假设原图像J^c(x)->0\\
因此有1-t(x)=\frac{I^c(x)}{A},t(x)=1-\frac{I^c(x)}{A}，一般设修正系数w=0.95，有t(x)=1-w\frac{I^c(x)}{A}\\
再反带入，J(x)=\frac{I(x)-A+t(x)A}{t(x)}=\frac{I(x)-A}{t(x)}+A\\
暗通道用单调队列，分别行列处理一次，时间复杂O(nm)即可得出来\\
$$



**同态滤波：**
$$
将一个点的灰度值f(i,j)用入射分量u(i,j)和反射分量v(i,j)表示，有\\
f(i,j)=u(i,j)*v(i,j)\\
对两边取对数，定义p(i,j)=ln(u(i,j)),q(i,j)=ln(v(i,j))\\
有F(i,j)=ln(f(i,j))=p(i,j)+q(i,j)\\
找到的通态滤波器函数为：H(i,j)=(High-Low)(1-e^{-c(D^2(i,j)/D^2_0)})+Low\\
High高频增益，Low低频增益，c锐化系数，D_0截止频率（越大越亮），D(i,j)该点表示到中心距离\\
$$

白噪声：

```
就是拿白光做类比。不同光本质是光频率不同。同理信号有各种频率，白噪声就是有各种频率的杂音信号
```

椒盐噪声：随机任意点出现0或255的灰度（传输故障等问题

高斯噪声：